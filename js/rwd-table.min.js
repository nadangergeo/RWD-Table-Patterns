/*	Scripts for the tables test page 
		Original author: Maggie Wachs, www.filamentgroup.com
		Author of extended script: Nadan Gergeo
		Date: November 2011
		Dependencies: jQuery, jQuery UI widget factory
*/function mediaQueriesSupported(){return typeof window.matchMedia!="undefined"||typeof window.msMatchMedia!="undefined"||typeof window.styleMedia!="undefined"}function hasTouch(){return"ontouchstart"in window}+function(e){"use strict";var t=function(t,n){var r=this;this.options=n;this.$table=e(t);this.$tableWrapper=null;this.$tableScrollWrapper=null;this.$tableClone=null;this.$stickyTableHead=null;this.$thead=this.$table.find("thead");this.$tbody=this.$table.find("tbody");this.$hdrCells=this.$thead.find("th");this.$bodyRows=this.$tbody.find("tr");this.$btnToolbar=null;this.$dropdownGroup=null;this.$dropdownBtn=null;this.$dropdownContainer=null;this.$autoGroup=null;this.$autoBtn=null;this.$focusGroup=null;this.$focusBtn=null;this.autoHideTrigger="auto-on-"+this.$table.attr("id")+".responsiveTable";this.idPrefix=this.$table.attr("id")+"-col-";this.iOS=!1;if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))this.iOS=!0;e.proxy(this.wrapTable(),this);e.proxy(this.createButtonToolbar(),this);e.proxy(this.setupHdrCells(),this);e.proxy(this.setupStandardCells(),this);e.proxy(this.createStickyTableHead(),this);this.$dropdownContainer.is(":empty")&&this.$dropdownGroup.hide();e(window).bind("orientationchange resize "+this.autoHideTrigger,function(){r.$dropdownContainer.find("input").trigger("updateCheck");e.proxy(r.updateSpanningCells(),r)})};t.DEFAULTS={addautobtn:!1,addfocusbtn:!1,fixednavbar:null};t.prototype.wrapTable=function(){var e=this;e.$table.parent().hasClass("table-scroll-wrapper")===!1&&e.$table.wrap('<div class="table-scroll-wrapper"/>');e.$tableScrollWrapper=e.$table.parent();e.$tableWrapper=e.$tableScrollWrapper.parent()};t.prototype.createButtonToolbar=function(){function n(){t.$bodyRows.removeClass("unfocused");t.$bodyRows.removeClass("focused")}var t=this;t.$btnToolbar=e('<div class="btn-toolbar" />');t.$dropdownGroup=e('<div class="btn-group dropdown-btn-group pull-right" />');t.$dropdownBtn=e('<button class="btn btn-default dropdown-toggle" data-toggle="dropdown">Display <span class="caret"></span></button>');t.$dropdownContainer=e('<ul class="dropdown-menu"/>');t.$autoGroup=e('<div class="btn-group auto-btn-group" />');t.$autoBtn=e('<button class="btn btn-default">Auto</button>');t.$table.hasClass("auto-on")&&t.$autoBtn.addClass("btn-primary");t.$focusGroup=e('<div class="btn-group focus-btn-group" />');t.$focusBtn=e('<button class="btn btn-default"><span class="glyphicon glyphicon-screenshot"></span> Focus</button>');t.$focusGroup.append(t.$focusBtn);t.options.addfocusbtn&&t.$btnToolbar.append(t.$focusGroup);t.$autoGroup.append(t.$autoBtn);t.options.addautobtn&&t.$btnToolbar.append(t.$autoGroup);t.$dropdownGroup.append(t.$dropdownBtn).append(t.$dropdownContainer);t.$btnToolbar.append(t.$dropdownGroup);t.$tableWrapper.prepend(t.$btnToolbar);this.$autoBtn.click(function(){t.$autoBtn.toggleClass("btn-primary");t.$table.toggleClass("auto-on");t.$tableClone.toggleClass("auto-on");e(window).trigger(t.autoHideTrigger)});this.$focusBtn.click(function(){n();e(this).toggleClass("btn-primary");t.$table.toggleClass("focus-on")});t.$bodyRows.click(function(){if(t.$table.hasClass("focus-on")){var r=e(this).hasClass("focused");n();if(!r){t.$bodyRows.addClass("unfocused");e(this).addClass("focused")}}})};t.prototype.createStickyTableHead=function(){var t=this;t.$tableClone=t.$table.clone();t.$tableClone.attr("id",t.$table.attr("id")+"-clone");t.$tableClone.find("[id]").each(function(){e(this).attr("id",e(this).attr("id")+"-clone")});t.$tableClone.wrap('<div class="stickyTableHead"/>');t.$stickyTableHead=t.$tableClone.parent();t.$stickyTableHead.css("height",t.$thead.height()+2);e("html").hasClass("lt-ie10")?t.$tableWrapper.before(t.$stickyTableHead):t.$table.before(t.$stickyTableHead);e(window).bind("scroll resize",function(){e.proxy(t.updateStickyTableHead(),t)});e(t.$tableScrollWrapper).bind("scroll",function(){e.proxy(t.updateStickyTableHead(),t)})};t.prototype.updateStickyTableHead=function(){var t=this,n=0,r=t.$table.offset().top,i=e(window).scrollTop(),s=t.$table.height()-t.$stickyTableHead.height(),o=i+e(window).height()-e(document).height(),u=!t.iOS,a=0;if(t.options.fixednavbar){var f=e(t.options.fixednavbar);a=f.height();i+=a}var l=i>r&&i<r+t.$table.height();if(u){t.$stickyTableHead.scrollLeft(t.$tableScrollWrapper.scrollLeft());t.$stickyTableHead.addClass("fixedSolution");n=a;if(i-r>s){n-=i-r-s;t.$stickyTableHead.addClass("borderRadiusFix")}else t.$stickyTableHead.removeClass("borderRadiusFix");if(l){t.$stickyTableHead.css({visibility:"visible",top:n+"px",width:t.$tableScrollWrapper.innerWidth()+"px"});return}t.$stickyTableHead.css({visibility:"hidden",width:"auto"})}else{t.$stickyTableHead.removeClass("fixedSolution");var c=400;n=i-r-1;n<0?n=0:n>s&&(n=s);o>0&&(n-=o);if(l){t.$stickyTableHead.css({visibility:"visible"});t.$stickyTableHead.animate({top:n+"px"},c);t.$thead.css({visibility:"hidden"})}else t.$stickyTableHead.animate({top:"0"},c,function(){t.$thead.css({visibility:"visible"});t.$stickyTableHead.css({visibility:"hidden"})})}};t.prototype.setupHdrCells=function(){var t=this;t.$hdrCells.each(function(n){var r=e(this),i=r.attr("id");if(!i){i=t.idPrefix+n;r.attr("id",i)}if(r.is("[data-priority]")){var s=e('<li class="checkbox-row"><input type="checkbox" name="toggle-'+i+'" id="toggle-'+i+'" value="'+i+'" /> <label for="toggle-'+i+'">'+r.text()+"</label></li>");t.$dropdownContainer.append(s);s.click(function(){var e=s.find("input");e.prop("checked",!e.prop("checked"));e.trigger("change")});s.find("label").click(function(e){e.stopPropagation()});s.find("input").click(function(e){e.stopPropagation()}).change(function(){var n=e(this),r=n.val(),i=t.$tableScrollWrapper.find("#"+r+", #"+r+"-clone, [data-columns~="+r+"]");i.each(function(){var t=e(this);if(n.is(":checked")){t.css("display")!=="none"&&t.prop("colSpan",parseInt(t.prop("colSpan"))+1);t.show()}else parseInt(t.prop("colSpan"))>1?t.prop("colSpan",parseInt(t.prop("colSpan"))-1):t.hide()})}).bind("updateCheck",function(){r.css("display")!=="none"?e(this).prop("checked",!0):e(this).prop("checked",!1)}).trigger("updateCheck")}})};t.prototype.setupStandardCells=function(){var t=this;t.$bodyRows.each(function(){var n=0;e(this).find("th, td").each(function(){var r=e(this),i="",s=r.prop("colSpan");s>1&&r.addClass("spn-cell");var o=0;for(var u=n;u<n+s;u++){i=i+" "+t.idPrefix+u;var a=t.$tableScrollWrapper.find("#"+t.idPrefix+u),f=a.attr("class");f&&r.addClass(f);var l=a.attr("data-priority");l&&r.attr("data-priority",l);a.css("display")==="none"&&o++}r.prop("colSpan",Math.max(s-o,1));i=i.substring(1);r.attr("data-columns",i);n+=s})})};t.prototype.updateSpanningCells=function(){var t=this;t.$table.find(".spn-cell").each(function(){var t=e(this),n=t.attr("data-columns").split(" "),r=n.length,i=0;for(var s=0;s<r;s++)e("#"+n[s]).css("display")==="none"&&i++;i!==r&&t.show();t.prop("colSpan",Math.max(r-i,1))})};var n=e.fn.responsiveTable;e.fn.responsiveTable=function(n){return this.each(function(){var r=e(this),i=r.data("responsiveTable"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);i||r.data("responsiveTable",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.responsiveTable.Constructor=t;e.fn.responsiveTable.noConflict=function(){e.fn.responsiveTable=n;return this};e(window).on("load.responsiveTable.data-api",function(){e('table[data-responsive="true"]').each(function(){var t=e(this);t.responsiveTable(t.data())})})}(jQuery);$(document).on("click.dropdown.data-api",".dropdown-menu .checkbox-row",function(e){e.stopPropagation()});$(document).ready(function(){document.documentElement.className=document.documentElement.className.replace("no-js","js");mediaQueriesSupported()?jQuery("html").addClass("mq"):jQuery("html").addClass("no-mq");hasTouch()?jQuery("html").addClass("touch"):jQuery("html").addClass("no-touch")});